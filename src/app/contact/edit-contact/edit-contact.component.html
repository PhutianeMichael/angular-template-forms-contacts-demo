<div class="content">
  <h1 class="header">Edit Contact</h1>


  <form (ngSubmit)="saveContact(contactForm)" #contactForm="ngForm">
    <section>
      <nav>Name/Info</nav>
      <div>
        <input type="hidden" [ngModel]="currentContact.id" name="id">
        <input placeholder="First Name"
               [(ngModel)]="currentContact.firstName"
               name="firstName"
               required/>
        <input placeholder="Last Name"
               [(ngModel)]="currentContact.lastName"
               name="lastName"
               required/>
        <input placeholder="Date of Birth"
               type="date"
               [(ngModel)]="currentContact.dateOfBirth"
               name="dateOfBirth" required/>
        <div>
          <span>Favorites Ranking:</span>
          <input placeholder="Favorites Ranking"
                 [(ngModel)]="currentContact.favoritesRanking"
                 name="favoritesRanking"
                 type="range" min="0" max="5" required/>
          <span>{{currentContact.favoritesRanking}}</span>
        </div>

        <div class="flex-item">
          <input
            type="checkbox"
            id="personal"
            [(ngModel)]="currentContact.personal"
            name="personal"
          > <label
          for="personal">Personal</label>
        </div>
      </div>
    </section>

    <!-- Phone section -->
    <section>
      <nav>Phone</nav>
      <div class="flex-column" ngModelGroup="phone">
        <div class="flex-group">
          <input placeholder="Phone"
                 [(ngModel)]="currentContact.phone.phoneNumber"
                 name="phoneNumber"/>
          <img ngSrc="/plus-grey-blue.png" class="add" alt="" height="20" width="20"/>
        </div>
        <div class="radio">
          @for (phoneType of phoneTypes; track phoneType.value) {
            <input type="radio"
                   [id]="phoneType.value"
                   [value]="phoneType.value"
                   [(ngModel)]="currentContact.phone.phoneType"
                   name="phoneType">
            <label [for]="phoneType.value"> {{ phoneType.title }} </label>
          }
        </div>
      </div>
    </section>

    <section>
      <nav>Address</nav>
      <div>
        <div class="address" ngModelGroup="address">
          <div class="flex-group">
            <input placeholder="Address" [(ngModel)]="currentContact.address.streetAddress" name="streetAddress"
                   #streetAddress/>
            <img ngSrc="/plus-grey-blue.png" class="add" alt="" height="20" width="20"/>
          </div>
          <input placeholder="City" [(ngModel)]="currentContact.address.city" name="city" #city/>
          <input placeholder="State/Region" [(ngModel)]="currentContact.address.state" name="state" #state/>
          <input placeholder="Zip/Postal Code" [(ngModel)]="currentContact.address.postalCode" name="postalCode"
                 #postalCode/>
          <select [(ngModel)]="currentContact.address.addressType" name="addressType" #addressType>
            @for (addressType of addressTypes; track addressType.value) {
              <option [value]="addressType.value">{{ addressType.title }}</option>
            }
          </select>
        </div>
      </div>
    </section>
    <section>
      <nav>Notes</nav>
      <div>
        <textarea placeholder="Notes" name="notes" rows="3" [(ngModel)]="currentContact.notes"></textarea>
      </div>
    </section>

    <div class="buttons">
      <button class="secondary" type="button" (click)="cancel()">Cancel</button>
      <button class="primary" type="submit" [disabled]="contactForm.invalid">
        Save
      </button>
      <button class="saving " type="button" disabled>Saving...</button>


    </div>

  </form>
</div>
